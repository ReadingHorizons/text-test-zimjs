<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ZIM Text Test</title>
    <script src="js/createjs-1.3.4.js"></script>
    <script src="js/zim-01.min.js"></script>
    <script src="js/rhtemplatelibrary.js"></script>
</head>
<body onload="_init();">
    <canvas id="easel-canvas" width="1024" height="768"></canvas>
    <canvas id="zim-canvas" width="1024" height="768" style="position:absolute; top:0; left:0;"></canvas>
    <script>

        let debugConsole;
        let easelContainer;
        let easelStage;
        let zimFrame;
        let zimStage;
        let zimWindow;

        function _init()
        {
            createEaselInstance();
            createDebugConsole();
            //createEaselContainer();
            //createFrame();
            //createLabelLetters();
        }

        function createDebugConsole()
        {
            debugConsole = new DebugConsole();
            //debugConsole.bgAlpha = .1;
            //debugConsole.bgColor = "#FF0000";
            //debugConsole.fontColor = "#000000";
            //debugConsole.x = 280;
            //debugConsole.y = 20;
            debugConsole.create();
            //debugConsole.log("Hello");
            setTimeout(() => {
                debugConsole.log("Hello");
            }, 1000);
        }

        function createEaselContainer()
        {
            easelContainer = new Container();
            easelStage.addChild(easelContainer);
        }

        function createEaselInstance()
        {
            easelStage = new createjs.Stage("easel-canvas");
            let circle = new createjs.Shape();
            circle.graphics.beginFill("DeepSkyBlue").drawCircle(0, 0, 50);
            circle.x = 450;
            circle.y = 100;
            easelStage.addChild(circle);
            easelStage.update();
        }

        function createFrame()
        {
            zimFrame = new Frame("zim-canvas", 1024, 768);
            zimFrame.on("ready", () =>
            {
                zimStage = zimFrame.stage;

                createWindow();
                createLabel();

                zimWindow.x = 100;
                zimWindow.y = 100;
                zimStage.update();
            });
        }

        function createLabel(parentContainer=zimWindow)
        {
            const label = new Label({
                text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Venenatis cras sed felis eget. Faucibus turpis in eu mi. Neque ornare aenean euismod elementum nisi quis. Fringilla ut morbi tincidunt augue. Diam ut venenatis tellus in metus vulputate eu. Tristique sollicitudin nibh sit amet commodo nulla facilisi nullam. Pretium quam vulputate dignissim suspendisse in est ante. Massa vitae tortor condimentum lacinia quis vel eros. Vulputate dignissim suspendisse in est ante in nibh mauris cursus. Praesent elementum facilisis leo vel. Tortor consequat id porta nibh venenatis. Mauris nunc congue nisi vitae suscipit tellus mauris. Aenean euismod elementum nisi quis eleifend quam adipiscing.\n" +
                    "\n" +
                    "Convallis tellus id interdum velit laoreet id. Ultrices mi tempus imperdiet nulla. Ultricies tristique nulla aliquet enim tortor. Ut porttitor leo a diam. Morbi non arcu risus quis varius quam. Elit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus. Sed lectus vestibulum mattis ullamcorper velit sed. Porttitor rhoncus dolor purus non enim praesent elementum. Nunc eget lorem dolor sed. Vitae ultricies leo integer malesuada nunc.\n" +
                    "\n" +
                    "Nunc sed blandit libero volutpat sed cras ornare arcu dui. Urna nec tincidunt praesent semper feugiat. Senectus et netus et malesuada fames ac turpis egestas sed. Adipiscing elit ut aliquam purus. Tempor commodo ullamcorper a lacus vestibulum. Lorem ipsum dolor sit amet consectetur adipiscing elit duis. Tincidunt ornare massa eget egestas. Est sit amet facilisis magna etiam tempor orci. Adipiscing commodo elit at imperdiet dui accumsan sit amet nulla. In nisl nisi scelerisque eu ultrices vitae auctor. Vel fringilla est ullamcorper eget nulla facilisi. Diam vel quam elementum pulvinar.",
                color:"#ff0000",
                //font:"Card Edu",
                labelWidth:200,
                size:24
            });
            zimWindow.add(label);
        }

        function createLabelLetters()
        {
            //const letters = new LabelLetters("<font size=20 family=Card Edu>Car</font>", "center", "bottom", 2)
            const letters = new LabelLetters("Wal", "center", "bottom", 2)
                .center()
                .animate({
                    props:{scale:1.5, rotation:-10},
                    wait:.5,
                    time:.2,
                    sequence:.05,
                    rewind:true
                });
            letters.y += 50;
            letters.labels[0].color = "#FF0000";
            letters.labels[0].size = 40;
            letters.labels[0].font = "Times";
            letters.labels[1].color = blue;
            letters.labels[1].font = "Card Edu";
            letters.labels[2].font = "Times";
            console.log(letters.labels[0].x);
            console.log(letters.labels[2].x);
            console.log(letters.labels[0].width);
            console.log(letters.labels[2].width);
        }

        function createWindow()
        {
            zimWindow = new Window({scrollBarDrag:true, padding:20, width:250, height:250, backgroundColor:"green", shadowBlur:8});
            zimStage.addChild(zimWindow);
        }

    </script>
</body>
</html>